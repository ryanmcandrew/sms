<!DOCTYPE HTML>
<html lang="en">
    <head>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
        <link rel="stylesheet" href="style.css">
    </head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118290817-1"></script>

    <body>

		<div class='jumbotron'></div>
        <main role="main" class="container">
            <div class="thumbnail">
                <div class="row">
                    <div class="col">
                        <div id="data"></div>
                        <input type="text" id="url" value="https://api.twitter.com/2/tweets"></input>
                        <button id="auth-button">send get request</button>
                        <div id="output"> </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="footer"></footer>


        <script>
            var ipc = require('electron').ipcRenderer;
            var authButton = document.getElementById('auth-button');
            
            authButton.addEventListener('click', function(){
                ipc.once('actionReply', function(event, response){
                    processResponse(response);
                })

                ipc.send('invokeAction', document.getElementById('url').value );
            });

            function processResponse(response) {
                console.log(response);
                for (var i in response.data) {
                    document.getElementById('output').innerText += response.data[i].text + "\n";
                }
            }  
        </script>
    </body> 

</html>